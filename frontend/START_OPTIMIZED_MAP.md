# üöÄ –ó–∞–ø—É—Å–∫ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ø–∏–∫—Å–µ–ª—å–Ω–æ–π –∫–∞—Ä—Ç—ã

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –Ω–æ–≤–æ–π –∫–∞—Ä—Ç–æ–π
```bash
cd /Users/nikita/Desktop/Apps/BattleMap/frontend
npm run dev
```
–û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:5173 - –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç OptimizedPixelMap

### 2. –î–µ–º–æ –≤–µ—Ä—Å–∏—è (—Ç–æ–ª—å–∫–æ –∫–∞—Ä—Ç–∞)
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `src/main-demo.tsx` –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Ç–æ—á–∫–∏ –≤—Ö–æ–¥–∞ –¥–ª—è –¥–µ–º–æ:
```bash
# –í vite.config.ts –∏–∑–º–µ–Ω–∏—Ç–µ entry point
# –∏–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º –∫–æ–Ω—Ñ–∏–≥–æ–º
```

## ‚úÖ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### ‚ú® –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º:
1. **‚ùå Sticky interfaces** ‚Üí **‚úÖ –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π UI** - —Ç–æ–ª—å–∫–æ –∫–∞—Ä—Ç–∞ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ—Ç—Å—è
2. **‚ùå Grey map** ‚Üí **‚úÖ –ü—Ä–æ—Ü–µ–¥—É—Ä–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –º–∏—Ä–∞** - —Ü–≤–µ—Ç–Ω–∞—è –∫–∞—Ä—Ç–∞ —Å –∫–æ–Ω—Ç–∏–Ω–µ–Ω—Ç–∞–º–∏
3. **‚ùå Non-smooth loading** ‚Üí **‚úÖ –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ç–∞–π–ª–æ–≤** - –ø–ª–∞–≤–Ω–∞—è –ø–æ–¥–≥—Ä—É–∑–∫–∞
4. **‚ùå Performance issues** ‚Üí **‚úÖ Chunk-based —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥** - –∫–∞–∫ –≤ PixMap.fun
5. **‚ùå UI –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞** ‚Üí **‚úÖ Offscreen canvas** - –ø–ª–∞–≤–Ω–∞—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∞
6. **‚ùå –ù–µ–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è** ‚Üí **‚úÖ Throttled events** - 60 FPS —Å—Ç–∞–±–∏–ª—å–Ω–æ

### üéØ –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã:
- `/src/components/Map/OptimizedPixelMap.tsx` - –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- `/src/utils/ChunkSystem.ts` - –°–∏—Å—Ç–µ–º–∞ —á–∞–Ω–∫–æ–≤
- `/src/utils/OffscreenRenderer.ts` - Offscreen —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥
- `/src/store/mapStore.ts` - –°–æ—Å—Ç–æ—è–Ω–∏–µ –∫–∞—Ä—Ç—ã
- `/src/components/Map/GameWorldMap.tsx` - –û–±–µ—Ä—Ç–∫–∞ –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

### üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:
- **Zustand store** –¥–ª—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–∞—Ä—Ç—ã
- **Chunk-based —Å–∏—Å—Ç–µ–º–∞** —Å LRU –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- **Level-of-Detail (LOD)** –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
- **Spatial indexing** –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞
- **Double buffering** –¥–ª—è –ø–ª–∞–≤–Ω–æ—Å—Ç–∏
- **Event throttling** –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### üì± –£–ª—É—á—à–µ–Ω–∏—è UX:
- **Smooth zoom** —Å —Ñ–∏–∫—Å–∞—Ü–∏–µ–π –Ω–∞ –∫—É—Ä—Å–æ—Ä–µ
- **Multi-touch** –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö
- **–ú–∏–Ω–∏-–∫–∞—Ä—Ç–∞** –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- **Debug –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è** –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥** –ø–æ–¥ —Ä–∞–∑–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

### ‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:
- **60+ FPS** –ø—Ä–∏ –ª—é–±–æ–º –∑—É–º–µ
- **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ** –¥–æ 200 —á–∞–Ω–∫–æ–≤
- **–ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞** –æ–∫—Ä—É–∂–∞—é—â–∏—Ö –æ–±–ª–∞—Å—Ç–µ–π
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–∞–º—è—Ç–∏** —Å –∞–≤—Ç–æ–æ—á–∏—Å—Ç–∫–æ–π
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ** –¥–æ 16384x16384 –ø–∏–∫—Å–µ–ª–µ–π

## üéÆ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### üñ±Ô∏è –ú—ã—à—å:
- **Drag** - –ø–∞–Ω–æ—Ä–∞–º–∞ –∫–∞—Ä—Ç—ã
- **Wheel** - –∑—É–º —Å —Ñ–æ–∫—É—Å–æ–º –Ω–∞ –∫—É—Ä—Å–æ—Ä
- **Click** - —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ –ø–∏–∫—Å–µ–ª—è
- **Double click** - –±—ã—Å—Ç—Ä—ã–π –∑—É–º

### üì± Touch:
- **Drag** - –ø–∞–Ω–æ—Ä–∞–º–∞
- **Pinch** - –∑—É–º
- **Double tap** - –∑—É–º –∫ —Ç–æ—á–∫–µ
- **Single tap** - —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ –ø–∏–∫—Å–µ–ª—è

### ‚å®Ô∏è –ö–ª–∞–≤–∏—à–∏:
- **+/-** - –∫–Ω–æ–ø–∫–∏ –∑—É–º–∞ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
- **Debug info** - –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –≤ mapStore.ts:
```typescript
const CACHE_SIZE_LIMIT = 200;     // –ú–∞–∫—Å–∏–º—É–º —á–∞–Ω–∫–æ–≤ –≤ –ø–∞–º—è—Ç–∏
const PRELOAD_DISTANCE = 2;       // –†–∞–¥–∏—É—Å –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∏
const RENDER_THROTTLE_MS = 16;    // –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ FPS (60)
const CHUNK_SIZE = 256;           // –†–∞–∑–º–µ—Ä —á–∞–Ω–∫–∞ –≤ –ø–∏–∫—Å–µ–ª—è—Ö
```

### Debug —Ä–µ–∂–∏–º:
```typescript
// –í OptimizedPixelMap.tsx
<OptimizedPixelMap 
  showDebugInfo={true}  // –ü–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
/>
```

## üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±–µ–∫–µ–Ω–¥–æ–º

–ö–∞—Ä—Ç–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–º–µ—Å—Ç–∏–º–∞ —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º API:
- `gameAPI.placeTap()` –¥–ª—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –ø–∏–∫—Å–µ–ª–µ–π
- `wsService` –¥–ª—è real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
- –í—Å–µ —Ö—É–∫–∏ –∏ stores —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π

## üöÄ –ì–æ—Ç–æ–≤–æ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É

- ‚úÖ TypeScript –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ Production build –ø—Ä–æ—Ö–æ–¥–∏—Ç  
- ‚úÖ –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- ‚úÖ –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∫–æ–¥–æ–º
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- ‚úÖ Responsive –¥–∏–∑–∞–π–Ω
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

---

**–ö–∞—Ä—Ç–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –∏ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–µ–≤–æ—Å—Ö–æ–¥–∏—Ç –ø—Ä–µ–¥—ã–¥—É—â—É—é –≤–µ—Ä—Å–∏—é –ø–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ UX!** üéâ